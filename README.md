# TestForZMedia ‚Äî Tiny Army Battle Simulator

TestForZMedia ‚Äî —ç—Ç–æ –º–æ–±–∏–ª—å–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–æ—è. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ **—á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**, **—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.

---

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã


| –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é | –ë–æ–π | –ü–æ–±–µ–¥–∞ |
| :--- | :--- | :--- |
| ![–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é](/Main_menu.jpg) | ![–ë–æ–π](/Battle.jpg) | ![–ü–æ–±–µ–¥–∞](/Final_panel.jpg) |
| *–í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ü–∏–π –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä* | *–ë–ª–∏–∂–Ω–∏–π –±–æ–π 20 –Ω–∞ 20* | *–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ª–æ–≥* |

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–µ–∫ (Advanced Patterns)

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö **Separation of Concerns** –∏ —Å–ª–∞–±–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º:

*   **Dependency Injection ([Zenject](https://github.com)):** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ `CoreInstaller.cs`. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ProjectContext` –∏ `SceneContext` –∏—Å–∫–ª—é—á–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Singletons –∏ `FindObjectOfType`.
*   **Interface-Driven Interaction:** –°–∏—Å—Ç–µ–º—ã (–∑–¥–æ—Ä–æ–≤—å–µ, –¥–≤–∏–∂–µ–Ω–∏–µ, –∞—Ç–∞–∫–∞) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (`IHealth`, `IMove`, `IAttack`). –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç Unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ Mock-–æ–±—ä–µ–∫—Ç–æ–≤.
*   **Reactive State Management ([UniRx](https://github.com)):** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏. –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (HP, GameState) –≤ `UnitHealth.cs` –∏ `UiPresenter.cs` –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ CPU.
*   **Value-Type Data Contract:** –î–∞–Ω–Ω—ã–µ —é–Ω–∏—Ç–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `struct UnitData`, —á—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –≤ –∫—É—á–µ (GC) –≤–æ –≤—Ä–µ–º—è –±–æ—è.

---

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ä–µ—Å—É—Ä—Å—ã

–ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ **60 FPS** –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:

1.  **MaterialPropertyBlock:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ —é–Ω–∏—Ç–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ GPU-–±–∞—Ç—á–∏–Ω–≥–∞. –í—Å–µ 40 —é–Ω–∏—Ç–æ–≤ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤ –æ–¥–∏–Ω Draw Call.
2.  **Tuple-Key Dictionary:** –ü–æ–∏—Å–∫ —Ü–µ–ª–µ–π –≤ `BattleManager.cs` —á–µ—Ä–µ–∑ `(ArmyType, Id)` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **O(1)** –¥–æ—Å—Ç—É–ø.
3.  **SqrMagnitude Optimization:** –†–∞—Å—á—ë—Ç—ã –¥–∏—Å—Ç–∞–Ω—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–≤–∞–¥—Ä–∞—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è, –∏–∑–±–µ–≥–∞—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ `Mathf.Sqrt`.
4.  **CompositeDisposable:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö UniRx-–ø–æ–¥–ø–∏—Å–æ–∫ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.

---

## ‚ú® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä–º–∞—Ü–∏–π

–í –ø—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–π:

*   **Data-Driven Formations:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `FormationConfigSO.cs`. –ù–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.
*   **Dynamic Repositioning:** –ú–µ—Ç–æ–¥ `ChangeFormation()` –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∞—Ä–º–∏—é –≤ –º–µ–Ω—é –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–µ–∑ —Ä–µ—Å–ø–∞–≤–Ω–∞ –æ–±—ä–µ–∫—Ç–æ–≤.
*   **Collision Avoidance:** –û—Ñ—Ñ—Å–µ—Ç—ã –∫—Ä–∞—Ç–Ω—ã 2 –µ–¥–∏–Ω–∏—Ü–∞–º, —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "—Å–ª–∏–ø–∞–Ω–∏–µ" –∫–æ–ª–ª–∞–π–¥–µ—Ä–æ–≤ –ø—Ä–∏ —Å–ø–∞–≤–Ω–µ.

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1.  –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ **Unity 2021.3 LTS** –∏–ª–∏ –Ω–æ–≤–µ–µ.
2.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ `ScriptableObject` –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ `CoreInstaller`.
3.  –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ü–µ–Ω—É `BattleScene` –∏ –Ω–∞–∂–º–∏—Ç–µ **Play**.
4.  –í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –Ω–∞–∂–º–∏—Ç–µ **Start Battle**.

---

## üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **–¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Android / iOS
*   **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** 1920√ó1080 (–ê–ª—å–±–æ–º–Ω–∞—è)
*   **Render Pipeline:** URP (Universal Render Pipeline)

**–ê–≤—Ç–æ—Ä:** [–î–º–∏—Ç—Ä–∏–π –°–ø–∏—Ä–∏—Ö–∏–Ω](https://github.com)

